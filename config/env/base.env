# ==============================================================
# NightBFF – Canonical Environment (BASE LAYER)
# --------------------------------------------------------------
# This file contains NON-SECRET defaults that apply to *all*
# environments. Each specific env file (development.env, test.env,
# performance.env, integration.env, production.env) loads *after*
# this one and overrides keys as needed.
# --------------------------------------------------------------
# NEVER add passwords, API keys, or any sensitive value here.
# Secrets are injected at runtime via GitHub Actions / Secrets
# Manager and live in a separate *.secrets file.
# ==============================================================

# --- Core ------------------------------------------------------
NODE_ENV=development   # default runtime mode
PORT=3000              # HTTP port application listens on
LOG_LEVEL=debug        # default pino/console log level
ENABLE_LOGGING=true    # toggle structured logging middleware

# --- PostgreSQL ----------------------------------------------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_DB=nightbff_dev
# POSTGRES_PASSWORD is secret → provided via *.secrets

# Connection Pool
DB_POOL_SIZE=15        # max pooled connections per service
DB_TIMEOUT=30000       # acquire timeout (ms)

# --- Redis -----------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD secret via vault

# --- Caching ---------------------------------------------------
CACHE_TTL=3600         # default cache TTL (seconds)
CACHE_MAX=100          # default node-cache max entries

# --- Geo / Venue ----------------------------------------------
GEOHASH_PRECISION=7
VENUE_SCAN_RADIUS_METERS=5000
VENUE_SCAN_STALENESS_THRESHOLD_HOURS=720
VENUE_SCAN_WORKER_CONCURRENCY=3
VENUE_STALENESS_REFRESH_CRON='0 0 * * 0'

# --- Rate Limiting --------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100 