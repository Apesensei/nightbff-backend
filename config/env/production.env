# ==============================================================
# NightBFF â€“ Production Environment Configuration
# ==============================================================
# This file contains production-specific environment variables.
# NEVER commit actual secrets to this file - use environment
# variables or secrets management in production.
# ==============================================================

NODE_ENV=production
PORT=3000
LOG_LEVEL=info
ENABLE_LOGGING=true

# --- PostgreSQL Production Configuration ---------------------
POSTGRES_HOST=your-production-db-host
POSTGRES_PORT=5432
POSTGRES_USER=nightbff_prod_user
POSTGRES_PASSWORD=your-secure-production-password
POSTGRES_DB=nightbff_production

# Database SSL Configuration
POSTGRES_SSL=true
POSTGRES_SSLMODE=require
POSTGRES_CA_CERT=/path/to/ca-certificate.pem
POSTGRES_CLIENT_CERT=/path/to/client-certificate.pem
POSTGRES_CLIENT_KEY=/path/to/client-key.pem

# Connection Pool (Production Optimized)
DB_POOL_SIZE=20
DB_POOL_ACQUIRE_TIMEOUT=30000
DB_POOL_IDLE_TIMEOUT=600000

# --- Redis Production Configuration -------------------------
REDIS_HOST=your-production-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=your-secure-redis-password

# --- JWT / Auth Configuration -------------------------------
JWT_SECRET=your-production-jwt-secret-must-be-at-least-32-characters-long

# --- HTTPS / TLS Configuration -----------------------------
HTTPS_KEY_PATH=/path/to/production-private-key.pem
HTTPS_CERT_PATH=/path/to/production-certificate.pem

# --- Rate Limiting (Production Settings) -------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX=5
UPLOAD_RATE_LIMIT_MAX=10

# --- External API Keys (Production) ------------------------
GOOGLE_MAPS_API_KEY=your-production-google-maps-api-key
FOURSQUARE_API_KEY=your-production-foursquare-api-key
ONFIDO_API_KEY=your-production-onfido-api-key

# --- Supabase (Production) ---------------------------------
SUPABASE_URL=https://your-production-supabase-url.supabase.co
SUPABASE_KEY=your-production-supabase-anon-key

# --- CORS Configuration ------------------------------------
CORS_ORIGIN=https://your-production-frontend-domain.com

# --- Security Headers --------------------------------------
STATIC_FILE_CACHE_TTL=86400
STATIC_FILE_ETAG_ENABLED=true

# --- Geo / Venue (Production Settings) ---------------------
GEOHASH_PRECISION=7
VENUE_SCAN_RADIUS_METERS=5000
VENUE_SCAN_STALENESS_THRESHOLD_HOURS=720
VENUE_SCAN_WORKER_CONCURRENCY=5
VENUE_STALENESS_REFRESH_CRON='0 0 * * 0'
